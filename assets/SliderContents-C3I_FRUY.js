import{o as B,S as J,f as K,N as Q,T as X,E as Y,b as Z}from"./effect-fade-IjNVuZlb.js";import{d as w,g as A,l as ee,c as N,b as v,a as te,F as V,r as z,n as ae,m as ne,u as P,w as W,i as oe,o as k,_ as le}from"./index-DFeexwHi.js";import"./SliderContents.vue_vue_type_style_index_0_scoped_4bc32985_lang-hV8TA_52.js";function se({swiper:e,extendParams:M,on:c,emit:a,params:o}){e.autoplay={running:!1,paused:!1,timeLeft:0},M({autoplay:{enabled:!1,delay:3e3,waitForTransition:!0,disableOnInteraction:!1,stopOnLastSlide:!1,reverseDirection:!1,pauseOnMouseEnter:!1}});let f,r,i=o&&o.autoplay?o.autoplay.delay:3e3,h=o&&o.autoplay?o.autoplay.delay:3e3,l,p=new Date().getTime(),b,E,y,T,S,d,L;function n(t){!e||e.destroyed||!e.wrapperEl||t.target===e.wrapperEl&&(e.wrapperEl.removeEventListener("transitionend",n),!(L||t.detail&&t.detail.bySwiperTouchMove)&&g())}const I=()=>{if(e.destroyed||!e.autoplay.running)return;e.autoplay.paused?b=!0:b&&(h=l,b=!1);const t=e.autoplay.paused?l:p+h-new Date().getTime();e.autoplay.timeLeft=t,a("autoplayTimeLeft",t,t/i),r=requestAnimationFrame(()=>{I()})},C=()=>{let t;return e.virtual&&e.params.virtual.enabled?t=e.slides.find(u=>u.classList.contains("swiper-slide-active")):t=e.slides[e.activeIndex],t?parseInt(t.getAttribute("data-swiper-autoplay"),10):void 0},s=t=>{if(e.destroyed||!e.autoplay.running)return;cancelAnimationFrame(r),I();let m=typeof t>"u"?e.params.autoplay.delay:t;i=e.params.autoplay.delay,h=e.params.autoplay.delay;const u=C();!Number.isNaN(u)&&u>0&&typeof t>"u"&&(m=u,i=u,h=u),l=m;const D=e.params.speed,q=()=>{!e||e.destroyed||(e.params.autoplay.reverseDirection?!e.isBeginning||e.params.loop||e.params.rewind?(e.slidePrev(D,!0,!0),a("autoplay")):e.params.autoplay.stopOnLastSlide||(e.slideTo(e.slides.length-1,D,!0,!0),a("autoplay")):!e.isEnd||e.params.loop||e.params.rewind?(e.slideNext(D,!0,!0),a("autoplay")):e.params.autoplay.stopOnLastSlide||(e.slideTo(0,D,!0,!0),a("autoplay")),e.params.cssMode&&(p=new Date().getTime(),requestAnimationFrame(()=>{s()})))};return m>0?(clearTimeout(f),f=setTimeout(()=>{q()},m)):requestAnimationFrame(()=>{q()}),m},O=()=>{p=new Date().getTime(),e.autoplay.running=!0,s(),a("autoplayStart")},x=()=>{e.autoplay.running=!1,clearTimeout(f),cancelAnimationFrame(r),a("autoplayStop")},_=(t,m)=>{if(e.destroyed||!e.autoplay.running)return;clearTimeout(f),t||(d=!0);const u=()=>{a("autoplayPause"),e.params.autoplay.waitForTransition?e.wrapperEl.addEventListener("transitionend",n):g()};if(e.autoplay.paused=!0,m){S&&(l=e.params.autoplay.delay),S=!1,u();return}l=(l||e.params.autoplay.delay)-(new Date().getTime()-p),!(e.isEnd&&l<0&&!e.params.loop)&&(l<0&&(l=0),u())},g=()=>{e.isEnd&&l<0&&!e.params.loop||e.destroyed||!e.autoplay.running||(p=new Date().getTime(),d?(d=!1,s(l)):s(),e.autoplay.paused=!1,a("autoplayResume"))},F=()=>{if(e.destroyed||!e.autoplay.running)return;const t=B();t.visibilityState==="hidden"&&(d=!0,_(!0)),t.visibilityState==="visible"&&g()},R=t=>{t.pointerType==="mouse"&&(d=!0,L=!0,!(e.animating||e.autoplay.paused)&&_(!0))},$=t=>{t.pointerType==="mouse"&&(L=!1,e.autoplay.paused&&g())},j=()=>{e.params.autoplay.pauseOnMouseEnter&&(e.el.addEventListener("pointerenter",R),e.el.addEventListener("pointerleave",$))},U=()=>{e.el&&typeof e.el!="string"&&(e.el.removeEventListener("pointerenter",R),e.el.removeEventListener("pointerleave",$))},G=()=>{B().addEventListener("visibilitychange",F)},H=()=>{B().removeEventListener("visibilitychange",F)};c("init",()=>{e.params.autoplay.enabled&&(j(),G(),O())}),c("destroy",()=>{U(),H(),e.autoplay.running&&x()}),c("_freeModeStaticRelease",()=>{(y||d)&&g()}),c("_freeModeNoMomentumRelease",()=>{e.params.autoplay.disableOnInteraction?x():_(!0,!0)}),c("beforeTransitionStart",(t,m,u)=>{e.destroyed||!e.autoplay.running||(u||!e.params.autoplay.disableOnInteraction?_(!0,!0):x())}),c("sliderFirstMove",()=>{if(!(e.destroyed||!e.autoplay.running)){if(e.params.autoplay.disableOnInteraction){x();return}E=!0,y=!1,d=!1,T=setTimeout(()=>{d=!0,y=!0,_(!0)},200)}}),c("touchEnd",()=>{if(!(e.destroyed||!e.autoplay.running||!E)){if(clearTimeout(T),clearTimeout(f),e.params.autoplay.disableOnInteraction){y=!1,E=!1;return}y&&e.params.cssMode&&g(),y=!1,E=!1}}),c("slideChange",()=>{e.destroyed||!e.autoplay.running||(S=!0)}),Object.assign(e.autoplay,{start:O,stop:x,pause:_,resume:g})}const ue="data:image/svg+xml,%3csvg%20width='24'%20height='43'%20viewBox='0%200%2024%2043'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M21.9258%201.5L2.12109%2021.3042L21.9258%2041.1089'%20stroke='%23EEEEEE'%20stroke-width='3'%20stroke-linecap='round'/%3e%3c/svg%3e",re="data:image/svg+xml,%3csvg%20width='24'%20height='43'%20viewBox='0%200%2024%2043'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M1.5%201.5L21.3047%2021.3042L1.5%2041.1089'%20stroke='%23EEEEEE'%20stroke-width='3'%20stroke-linecap='round'/%3e%3c/svg%3e",ie={class:"slider-wrapper"},de={class:"progress-container"},ce=["onClick"],fe={class:"slider-container"},ye=["src"],me=["src"],ve=["src"],pe=w({__name:"SliderContents",props:{contents:Array},setup(e){const M=e,c=[K,Q,X,Y,se],a=A(null),o=A(0),f=A(!1),r=A(0);let i=null;const h=n=>{a.value=n,console.log(n),y(),r.value=n.realIndex},l=()=>{if(a.value){const n=a.value.realIndex;r.value=n,o.value=0,console.log("slide change to real index:",n)}},p=()=>{a.value&&a.value.realIndex===0&&(o.value=0,r.value=0)},b=()=>{a.value&&(a.value.slidePrev(),T())},E=()=>{a.value&&(a.value.slideNext(),T())},y=()=>{i&&clearInterval(i),o.value=0;const n=5e3;i=setInterval(()=>{!f.value&&a.value&&(o.value+=100/(n/100),o.value>=100&&(a.value.slideNext(),o.value=0))},100)},T=()=>{o.value=0,i&&(clearInterval(i),y())},S=()=>{f.value=!0},d=()=>{f.value=!1},L=n=>{a.value&&(a.value.slideToLoop(n),T(),r.value=n)};return ee(()=>{i&&clearInterval(i)}),(n,I)=>(k(),N("div",ie,[v("div",de,[(k(!0),N(V,null,z(M.contents,(C,s)=>(k(),N("div",{key:`progress-${s}`,class:"progress-item",onClick:O=>L(s)},[I[0]||(I[0]=v("div",{class:"progress-background"},null,-1)),v("div",{class:ne(["progress-fill",{active:r.value===s}]),style:ae({width:r.value===s?`${o.value}%`:"0%",transition:r.value===s?"width 0.1s linear":"none"})},null,6)],8,ce))),128))]),te(P(J),{"slides-per-view":1,"space-between":50,modules:c,onSwiper:h,loop:!0,onSlideChange:l,onSlideChangeTransitionStart:p,onMouseenter:S,onMouseleave:d,onTouchstart:S,onTouchend:d},{default:W(()=>[v("div",fe,[v("button",{class:"custom-prev",onClick:b},[v("img",{src:P(ue),alt:""},null,8,ye)]),v("button",{class:"custom-next",onClick:E},[v("img",{src:P(re),alt:""},null,8,me)])]),(k(!0),N(V,null,z(M.contents,(C,s)=>(k(),oe(P(Z),{key:`slide-${s}`},{default:W(()=>[v("img",{class:"slider-image",src:C,alt:""},null,8,ve)]),_:2},1024))),128))]),_:1})]))}}),Te=le(pe,[["__scopeId","data-v-4bc32985"]]);export{Te as S};
